INPUT_SRC = program.c
PREPROCESSED_NONLINKED = preprocessed_output.i
COMPILED_NONLINKED = compiled_output.s
ASSEMBLED_NONLINKED = assembled_output.o 
LINKED_EXECUTABLE =  linked_executable_output.out
CC = gcc


all : $(LINKED_EXECUTABLE)
	$(info Running the program ...)
	$(info )
	./$(LINKED_EXECUTABLE)


$(LINKED_EXECUTABLE) : $(ASSEMBLED_NONLINKED)
	$(CC) $(ASSEMBLED_NONLINKED)  -o $(LINKED_EXECUTABLE)


$(ASSEMBLED_NONLINKED) : $(COMPILED_NONLINKED)
	$(CC) -c $(COMPILED_NONLINKED) -o $(ASSEMBLED_NONLINKED)


$(COMPILED_NONLINKED) : $(PREPROCESSED_NONLINKED)
	$(CC) -S $(PREPROCESSED_NONLINKED) -o $(COMPILED_NONLINKED)

$(PREPROCESSED_NONLINKED) : $(INPUT_SRC)
	$(CC) -E $(INPUT_SRC) -o $(PREPROCESSED_NONLINKED)


clean :
	@rm -rf $(PREPROCESSED_NONLINKED) $(COMPILED_NONLINKED) $(ASSEMBLED_NONLINKED) $(LINKED_EXECUTABLE)